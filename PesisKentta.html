<!doctype html>
<html lang="fi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PesisKenttä</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%2390EE90'/><circle cx='50' cy='50' r='45' fill='none' stroke='%23333' stroke-width='2'/><path d='M 20,50 Q 50,20 80,50' fill='none' stroke='%23333' stroke-width='1.5'/><path d='M 20,50 Q 50,80 80,50' fill='none' stroke='%23333' stroke-width='1.5'/><path d='M 50,20 Q 20,50 50,80' fill='none' stroke='%23333' stroke-width='1.5'/><path d='M 50,20 Q 80,50 50,80' fill='none' stroke='%23333' stroke-width='1.5'/></svg>"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <script src="assets/js/main.js" type="module"></script>
    <script src="assets/js/footer.js" defer></script>
  </head>
  <body class="page--field page--fullfield">
    <section class="fullfield-header">
      <p class="fullfield-eyebrow">Kenttäkartta</p>
      <h1>Pesäpallokenttä mittakaavassa</h1>
      <button
        class="fullfield-info-toggle"
        id="infoToggle"
        aria-expanded="false"
      >
        <span class="info-icon">ⓘ</span> Lisätietoja
      </button>
      <p class="fullfield-copy" id="infoCopy">
        Tarkastele koko kentän geometrian ja mittasuhteiden eroja. Vaihda
        miesten ja naisten profiilien välillä sekä seuraa tärkeimmät mitat
        yhdellä silmäyksellä.
      </p>
      <div class="fullfield-selector">
        <div class="field-selector">
          <button class="field-option active" data-fullfield="women">
            Naiset
          </button>
          <button class="field-option" data-fullfield="men">Miehet</button>
        </div>
      </div>
    </section>

    <section class="fullfield-canvas-wrap">
      <button
        class="reset-edits"
        id="resetEdits"
        title="Palauta alkuperäiset arvot"
        style="display: none"
        aria-label="Tyhjennä muutokset"
      ></button>

      <!-- Zoom controls -->
      <div class="zoom-controls" id="zoomControls">
        <button
          class="zoom-btn zoom-out"
          id="zoomOut"
          title="Loitonna"
          aria-label="Loitonna"
        ></button>
        <span class="zoom-level" id="zoomLevel">100%</span>
        <button
          class="zoom-btn zoom-reset"
          id="zoomReset"
          title="Palauta näkymä"
          aria-label="Palauta näkymä"
        ></button>
        <button
          class="zoom-btn zoom-in"
          id="zoomIn"
          title="Lähennä"
          aria-label="Lähennä"
        ></button>
      </div>

      <!-- Custom measurement toggle -->
      <button
        class="custom-measure-toggle"
        id="customMeasureToggle"
        title="Oma mitta"
        aria-label="Aktivoi oma mitta -toiminto"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
        <span>Oma mitta</span>
      </button>

      <canvas id="fullFieldCanvas"></canvas>
      <div id="measurementTooltip" class="measurement-tooltip"></div>
    </section>

    <!-- Offset input modal -->
    <div id="offsetModal" class="modal-overlay">
      <div class="modal-content">
        <h3>Syötä siirto metreissä</h3>
        <p class="modal-description">
          Anna etäisyys kolmospesan keskustasta kolmospesan viivaa pitkin
        </p>
        <input
          type="number"
          id="offsetInput"
          step="0.01"
          min="0"
          max="20"
          placeholder="esim. 2.50"
        />
        <div class="modal-buttons">
          <button id="offsetCancel" class="modal-button modal-button-cancel">
            Peruuta
          </button>
          <button id="offsetOk" class="modal-button modal-button-ok">OK</button>
        </div>
      </div>
    </div>

    <!-- Confirm/Alert modal -->
    <div id="confirmModal" class="modal-overlay">
      <div class="modal-content">
        <h3 id="confirmTitle">Vahvistus</h3>
        <p id="confirmMessage" class="modal-description"></p>
        <div class="modal-buttons" id="confirmButtons">
          <button id="confirmCancel" class="modal-button modal-button-cancel">
            Peruuta
          </button>
          <button id="confirmOk" class="modal-button modal-button-ok">
            OK
          </button>
        </div>
      </div>
    </div>

    <section class="fullfield-legend">
      <h2>Keskeiset mitat</h2>
      <ul class="fullfield-dimensions">
        <li>
          <span>Ykkösväli</span>
          <strong data-dimension="first">-</strong>
        </li>
        <li>
          <span>Kakkosväli</span>
          <strong data-dimension="second">-</strong>
        </li>
        <li>
          <span>Kolmosväli</span>
          <strong data-dimension="third">-</strong>
        </li>
        <li>
          <span>Kotipolku</span>
          <strong data-dimension="diagonal">-</strong>
        </li>
        <li>
          <span>Kentän pituus</span>
          <strong data-dimension="back">-</strong>
        </li>
        <li>
          <span>Kentän leveys</span>
          <strong data-dimension="width">-</strong>
        </li>
      </ul>
    </section>

    <footer class="site-footer" data-footer></footer>
  </body>
</html>
